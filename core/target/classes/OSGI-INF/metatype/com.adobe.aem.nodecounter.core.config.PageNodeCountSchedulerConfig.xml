<?xml version="1.0" encoding="UTF-8"?>
<metatype:MetaData xmlns:metatype="http://www.osgi.org/xmlns/metatype/v1.2.0" localization="OSGI-INF/l10n/com.adobe.aem.nodecounter.core.config.PageNodeCountSchedulerConfig">
  <OCD id="com.adobe.aem.nodecounter.core.config.PageNodeCountSchedulerConfig" name="AEM Node Counter Scheduler Config" description="">
    <AD id="enabled" type="Boolean" name="Enabled" description="Enable or disable the node counter job" default="true"/>
    <AD id="rootPath" type="String" name="Content Root Path" description="The root path under which pages will be checked (e.g. /content/mysite)" default="/content"/>
    <AD id="scheduler.expression" type="String" name="Scheduler Cron Expression" description="CRON expression to run the job (e.g. '0 0 0 * * ?' for daily at midnight, '0 0 * * * ?' for every hour, '0 * * * * ?' for every minute)" default="0\ 0\ 0\ *\ *\ ?"/>
    <AD id="highThreshold" type="Integer" name="High Complexity Threshold" description="Node count threshold for HIGH complexity (default: 2048). Pages with more nodes than this value are marked as 'high'" default="2048"/>
    <AD id="mediumThreshold" type="Integer" name="Medium Complexity Threshold" description="Node count threshold for MEDIUM complexity (default: 1024). Pages with more nodes than this value (but less than high threshold) are marked as 'medium'" default="1024"/>
    <AD id="threadPoolSize" type="Integer" name="Thread Pool Size" description="Number of parallel threads for processing pages (default: 4). Higher values = faster processing but more CPU/memory usage" default="4"/>
    <AD id="maxPagesPerRun" type="Integer" name="Max Pages Per Run" description="Maximum number of pages to process in a single run (default: 5000). Set to 0 for unlimited. Helps prevent long-running jobs" default="5000"/>
    <AD id="batchCommitSize" type="Integer" name="Batch Commit Size" description="Number of page updates before committing to JCR (default: 50). Higher values = better performance but more memory usage" default="50"/>
    <AD id="processOnlyModified" type="Boolean" name="Process Only Modified Pages" description="If true, only processes pages modified since last run (default: false). Dramatically improves performance for subsequent runs" default="false"/>
    <AD id="modifiedSinceHours" type="Integer" name="Modified Since Hours" description="When 'Process Only Modified Pages' is enabled, only process pages modified in the last N hours (default: 24)" default="24"/>
  </OCD>
  <Designate pid="com.adobe.aem.nodecounter.core.schedulers.PageNodeCountJob">
    <Object ocdref="com.adobe.aem.nodecounter.core.config.PageNodeCountSchedulerConfig"/>
  </Designate>
</metatype:MetaData>
